<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hospital Patient Queue System</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #e9f3ff;
    margin: 0;
    padding: 0;
  }
  header {
    background: #007bff;
    color: white;
    text-align: center;
    padding: 15px 0;
  }
  .tabs {
    display: flex;
    justify-content: center;
    background: #f0f8ff;
    border-bottom: 2px solid #007bff;
  }
  .tab {
    padding: 10px 20px;
    cursor: pointer;
    font-weight: bold;
    color: #007bff;
  }
  .tab.active {
    background: #007bff;
    color: white;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
  }
  .content {
    width: 90%;
    max-width: 700px;
    background: white;
    padding: 20px;
    margin: 20px auto;
    border-radius: 10px;
    box-shadow: 0 0 10px #aaa;
  }
  label {
    display: block;
    margin: 8px 0 5px;
  }
  input, select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
  }
  button {
    background: #007bff;
    color: white;
    border: none;
    padding: 10px;
    width: 100%;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background: #0056b3;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  th, td {
    border: 1px solid #ccc;
    padding: 10px;
    text-align: center;
  }
  th {
    background: #007bff;
    color: white;
  }
  .serve-btn {
    background: #dc3545;
    padding: 5px 10px;
    border: none;
    color: white;
    border-radius: 5px;
    cursor: pointer;
  }
  .serve-btn:hover {
    background: #a71d2a;
  }
</style>
</head>
<body>

<header>
  <h1>üè• Hospital Patient Queue Management</h1>
</header>

<div class="tabs">
  <div class="tab active" id="tab-register">Register Patient</div>
  <div class="tab" id="tab-queue">View Queue</div>
</div>

<div class="content" id="registerPage">
  <h2>Patient Registration</h2>
  <form id="registerForm">
    <label>Patient Name:</label>
    <input type="text" id="pname" required>
    <label>Age:</label>
    <input type="number" id="age" required>
    <label>Department:</label>
    <select id="dept" required>
      <option value="">Select Department</option>
      <option>General</option>
      <option>Cardiology</option>
      <option>Orthopedics</option>
      <option>Pediatrics</option>
    </select>
    <button type="submit">Add to Queue</button>
  </form>
</div>

<div class="content" id="queuePage" style="display:none;">
  <h2>Current Patient Queue</h2>
  <table id="queueTable">
    <thead>
      <tr>
        <th>No.</th>
        <th>Name</th>
        <th>Age</th>
        <th>Department</th>
        <th>Time</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
  // Switch between tabs
  const tabRegister = document.getElementById('tab-register');
  const tabQueue = document.getElementById('tab-queue');
  const registerPage = document.getElementById('registerPage');
  const queuePage = document.getElementById('queuePage');

  tabRegister.addEventListener('click', () => {
    tabRegister.classList.add('active');
    tabQueue.classList.remove('active');
    registerPage.style.display = 'block';
    queuePage.style.display = 'none';
  });

  tabQueue.addEventListener('click', () => {
    tabQueue.classList.add('active');
    tabRegister.classList.remove('active');
    registerPage.style.display = 'none';
    queuePage.style.display = 'block';
    loadQueue();
  });

  // Add patient to queue
  document.getElementById('registerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const pname = document.getElementById('pname').value;
    const age = document.getElementById('age').value;
    const dept = document.getElementById('dept').value;

    let patients = JSON.parse(localStorage.getItem('patients')) || [];
    patients.push({ pname, age, dept, time: new Date().toLocaleTimeString() });
    localStorage.setItem('patients', JSON.stringify(patients));
    alert('Patient added to queue!');
    this.reset();
  });

  // Load and display queue
  function loadQueue() {
    const tbody = document.querySelector('#queueTable tbody');
    let patients = JSON.parse(localStorage.getItem('patients')) || [];
    tbody.innerHTML = '';
    patients.forEach((p, i) => {
      const row = `<tr>
        <td>${i + 1}</td>
        <td>${p.pname}</td>
        <td>${p.age}</td>
        <td>${p.dept}</td>
        <td>${p.time}</td>
        <td><button class="serve-btn" onclick="servePatient(${i})">Serve</button></td>
      </tr>`;
      tbody.innerHTML += row;
    });
  }

  // Remove patient after serving
  function servePatient(index) {
    let patients = JSON.parse(localStorage.getItem('patients')) || [];
    alert(`Patient ${patients[index].pname} served!`);
    patients.splice(index, 1);
    localStorage.setItem('patients', JSON.stringify(patients));
    loadQueue();
  }
</script>

</body>
</html>
